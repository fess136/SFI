{% load static %}
<nav class="main-header navbar navbar-expand navbar-dark ">
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
        </li>
        <li class="nav-item d-none d-sm-inline-block">
            <a href="#" class="nav-link">Inicio</a>
        </li>
    </ul>

    <div class="container">
        <button class="navbar-toggler order-1" type="button" data-toggle="collapse" data-target="#navbarCollapse"
            aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>

    <ul class="navbar-nav ml-auto">
        <!-- Botón de Accesibilidad -->
        <li class="nav-item dropdown" data-toggle="tooltip" data-placement="top" title="Accesibilidad">
            <a class="nav-link" data-toggle="dropdown" href="#">
                <i class="fas fa-universal-access"></i>
            </a>
            <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                <a href="#" class="dropdown-item" id="increase-text">
                    <i class="fas fa-text-height mr-2"></i> Aumentar Texto
                </a>
                <a href="#" class="dropdown-item" id="decrease-text">
                    <i class="fas fa-text-width mr-2"></i> Disminuir Texto
                </a>
                <a href="#" class="dropdown-item" id="normal-text">
                    <i class="fas fa-font mr-2"></i> Tamaño Normal
                </a>
                <a href="#" class="dropdown-item" id="toggle-contrast">
                    <i class="fas fa-adjust mr-2"></i> Modo oscuro
                </a>
            </div>
        </li>

        <li class="nav-item dropdown" data-toggle="tooltip" data-placement="top" title="Ajustes">
            <a class="nav-link" data-toggle="dropdown" href="#">
                <i class="fas fa-users-cog"></i>
            </a>
            <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                <span class="dropdown-header">
                    Último Acceso: 20 de junio de 2024
                </span>
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item">
                    <i class="fas fa-edit mr-2"></i> Editar perfil
                    <span class="float-right text-muted text-sm">3 mins</span>
                </a>
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item">
                    <i class="fas fa-lock mr-2"></i> Editar password
                    <span class="float-right text-muted text-sm">12 hours</span>
                </a>
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item dropdown-footer">
                    <p>Este sistema permite realizar diferentes configuraciones</p>
                </a>
            </div>
        </li>
        <li class="nav-item" data-toggle="tooltip" data-placement="top" title="Cerrar Sesión">
            <a class="nav-link" href="{% url 'logout' %}">
                <i class="fas fa-power-off" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</nav>

<script type="application/javascript">
    document.addEventListener('DOMContentLoaded', function() {
        // Verificar si el modo oscuro está habilitado
        if (localStorage.getItem('darkMode') === 'enabled') {
            document.body.classList.add('Dark-mode');
        }

        document.getElementById('increase-text').addEventListener('click', function() {
            document.body.style.fontSize = 'larger';
        });

        document.getElementById('decrease-text').addEventListener('click', function() {
            document.body.style.fontSize = 'smaller';
        });

        document.getElementById('normal-text').addEventListener('click', function() {
            document.body.style.fontSize = '16px';  
        });

        document.getElementById('toggle-contrast').addEventListener('click', function() {
            document.body.classList.toggle('Dark-mode');

            // Guardar el estado del modo oscuro en localStorage
            if (document.body.classList.contains('Dark-mode')) {
                localStorage.setItem('darkMode', 'enabled');
            } else {
                localStorage.setItem('darkMode', 'disabled');
            }
        });
    });
</script>

